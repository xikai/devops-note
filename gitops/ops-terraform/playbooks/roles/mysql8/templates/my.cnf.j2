[mysqld]
datadir=/data/mysql
socket=/var/lib/mysql/mysql.sock

log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid

## innodb ##
innodb_buffer_pool_size=4G

## gtid ##
gtid_mode=ON
enforce_gtid_consistency=ON

## binlog ##
log_bin=/data/mysql/mysql_bin
server_id=1
max_binlog_size=536870912 # 512MB
binlog_expire_logs_seconds=604800 # binlog保存时间(3600*24*7=7天)

## slowlog ##
slow_query_log=ON
slow_query_log_file=/data/mysql/mysql-slow.log
long_query_time=1

## server ##
default-authentication-plugin=mysql_native_password
lower_case_table_names=1
max_allowed_packet=64M
max_connections=3000
max_connect_errors=100
open_files_limit=65535
character_set_server=utf8mb4
sql_mode='STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION'
